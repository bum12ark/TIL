## ìƒì„±ì ì£¼ì…ì„ ì„ íƒí•´ë¼!

ìµœê·¼ ìŠ¤í”„ë§ì„ í¬í•¨í•œ ëŒ€ë¶€ë¶„ì˜ DI í”„ë ˆì„ì›Œí¬ë“¤ì€ ìƒì„±ì ì£¼ì…ì„ ê¶Œì¥í•œë‹¤.

ê·¸ ì´ìœ ëŠ” ì•„ë˜ì™€ ê°™ë‹¤.

### ë¶ˆë³€

- ëŒ€ë¶€ë¶„ì˜ ì˜ì¡´ê´€ê³„ ì£¼ì…ì€ í•œë²ˆ ì¼ì–´ë‚˜ë©´ ì• í”Œë¦¬ì¼€ì´ì…˜ ì¢…ë£Œì‹œì ê¹Œì§€ ì˜ì¡´ê´€ê³„ë¥¼ ë³€ê²½í•  ì¼ì´ ì—†ë‹¤.
- ëˆ„êµ°ê°€ ê°ì²´ë¥¼ ì¤‘ê°„ì— ë³€ê²½í•  ìˆ˜ ìˆê³ , ë³€ê²½ë˜ì–´ì„œëŠ” ì•ˆë˜ëŠ” ë©”ì†Œë“œë¥¼ ì—´ì–´ë‘ëŠ” ê²ƒì€ ì¢‹ì€ ì„¤ê³„ ë°©ë²•ì´ ì•„ë‹ˆë‹¤.
- ìƒì„±ì ì£¼ì…ì€ ê°ì²´ë¥¼ ìƒì„±í•  ë•Œ ë”± 1ë²ˆ í˜¸ì¶œë˜ë¯€ë¡œ ë³€ê²½ë  ìˆ˜ ì—†ë‹¤.

### ëˆ„ë½

- í”„ë ˆì„ì›Œí¬ ì—†ì´ ìˆœìˆ˜í•œ ìë°” ì½”ë“œë¥¼ ë‹¨ìœ„ í…ŒìŠ¤íŠ¸ í•˜ëŠ”ê²½ìš°ì— ì¼ì–´ë‚  ìˆ˜ ìˆëŠ” ë¬¸ì œì 

**ìˆ˜ì •ì ìë™ ì£¼ì…ë²•ì„ ì„ íƒí•˜ì˜€ì„ ë•Œ**

```java
@Component
public class OrderServiceImpl implements OrderService {

    private MemberRepository memberRepository;
    private DiscountPolicy discountPolicy;

    @Autowired
    public void setMemberRepository(MemberRepository memberRepository) {
        this.memberRepository = memberRepository;
    }

    @Autowired
    public void setDiscountPolicy(DiscountPolicy discountPolicy) {
        this.discountPolicy = discountPolicy;
    }
}
```

**í…ŒìŠ¤íŠ¸ ì½”ë“œ**

```java
@Test
void createOrder() {
    OrderServiceImpl orderService = new OrderServiceImpl();
    orderService.createOrder(1L, "itemA", 10000);
}
```

- IDEì—ì„œëŠ” ì»´íŒŒì¼ ì—ëŸ¬ê°€ ë‚˜ì§€ ì•Šì§€ë§Œ, ëŸ°íƒ€ì„ ì‹œì— NPE(Null Pointer Exception)ì´ ë°œìƒí•œë‹¤.
    - ì˜ì¡´ê´€ê³„ ì£¼ì…ì´ ë˜ì§€ ì•Šì•˜ê¸° ë•Œë¬¸
- ê·¸ëŸ¬ë‚˜ ìƒì„±ì ì£¼ì…ë²•ì„ ì‚¬ìš©í•  ê²½ìš° ì»´íŒŒì¼ ì‹œì— ì˜ì¡´ê´€ê³„ë¥¼ ì£¼ì…ì‹œì¼œì•¼ í•¨ìœ¼ë¡œ ëŸ°íƒ€ì„ ì‹œê°€ ì•„ë‹Œ ì»´íŒŒì¼ ì‹œì— ì˜¤ë¥˜ë¥¼ ì¡ì•„ë‚¼ ìˆ˜ ìˆë‹¤.

**ìƒì„±ì ì£¼ì…ë²•ì„ ì‚¬ìš©í•˜ì˜€ì„ ê²½ìš°**

```java
@Test
void createOrder() {
    MemoryMemberRepository memberRepository = new MemoryMemberRepository();
    memberRepository.save(new Member(1L, "name", Grade.VIP));

    OrderServiceImpl orderService = new OrderServiceImpl(memberRepository, new FixDiscountPolicy());
    Order order = orderService.createOrder(1L, "itemA", 10000);
    assertThat(order.getDiscountPrice()).isEqualTo(1000);
}
```

### final í‚¤ì›Œë“œ

- ìƒì„±ì ì£¼ì…ë²•ì„ ì‚¬ìš©í•˜ì˜€ì„ ê²½ìš°ì—ë§Œ final í‚¤ì›Œë“œë¥¼ ë¶™ì—¬ì¤„ ìˆ˜ ìˆë‹¤.
- ë‚˜ë¨¸ì§€ ì£¼ì…ë²•ì—ì„œëŠ” ê°ì²´ë¥¼ ìƒì„±ì‹œí‚¨ ë’¤ ì£¼ì…ì„ ë°›ì•„ì•¼ í•¨ìœ¼ë¡œ final í‚¤ì›Œë“œë¥¼ ë¶™í ìˆ˜ ì—†ë‹¤.
    - final í‚¤ì›Œë“œëŠ” ê°ì²´ ìƒì„±ê³¼ ë™ì‹œì— ê°’ì´ í• ë‹¹ë˜ì–´ì•¼ í•œë‹¤.
- **ê°’ì´ ì„¤ì •ë˜ì§€ ì•ŠëŠ” ì˜¤ë¥˜ë¥¼ ì»´íŒŒì¼ ì‹œì ì— ë§‰ì•„ì¤€ë‹¤.**

### ì •ë¦¬

- í”„ë ˆì„ì›Œí¬ì— ì˜ì¡´í•˜ì§€ ì•Šê³ , ìˆœìˆ˜í•œ ìë°” ì–¸ì–´ì˜ íŠ¹ì§•ì„ ì˜ ì‚´ë¦¬ëŠ” ë°©ë²•
- ê¸°ë³¸ìœ¼ë¡œ ìƒì„±ì ì£¼ì…ì„ ì‚¬ìš©í•˜ê³ , í•„ìˆ˜ ê°’ì´ ì•„ë‹Œ ê²½ìš°ì—ëŠ” ìˆ˜ì •ì ì£¼ì… ë°©ì‹ì„ ì˜µì…˜ìœ¼ë¡œ ë¶€ì—¬í•˜ë©´ ëœë‹¤. ë‘ ì£¼ì…ë²•ì„ ë™ì‹œì— ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤.
- **í•­ìƒ ìƒì„±ì ì£¼ì…ì„ ì„ íƒí•˜ì!** í•„ë“œ ì£¼ì…ì€ ì‚¬ìš©í•˜ì§€ ì•ŠëŠ”ê²Œ ì¢‹ë‹¤.

## ë¡¬ë³µê³¼ ìµœì‹  íŠ¸ëœë“œ

- ë¡¬ë³µì„ ì‚¬ìš©í•˜ë©´ ìƒì„±ì ì£¼ì…ë²• ì½”ë“œë¥¼ íš¨ìœ¨ì ìœ¼ë¡œ ì¤„ì¼ ìˆ˜ ìˆë‹¤.

### ê¸°ë³¸ì½”ë“œ

```java
@Component
public class OrderServiceImpl implements OrderService {

    private final MemberRepository memberRepository;
    private final DiscountPolicy discountPolicy;

    public OrderServiceImpl(MemberRepository memberRepository, DiscountPolicy discountPolicy) {
        this.memberRepository = memberRepository;
        this.discountPolicy = discountPolicy;
    }
}
```

### ìµœì¢… ì½”ë“œ

```java
@Component
@RequiredArgsConstructor
public class OrderServiceImpl implements OrderService {

    private final MemberRepository memberRepository;
    private final DiscountPolicy discountPolicy;
}
```

- `@RequiredArgsContructor`: `final`ì´ ë¶™ì€ í•„ë“œë¥¼ ëª¨ì•„ì„œ ìƒì„±ìë¥¼ ìë™ìœ¼ë¡œ ë§Œë“¤ì–´ì¤€ë‹¤.
- ë¡¬ë³µì€ ì»´íŒŒì¼ ì‹œ ì• ë…¸í…Œì´ì…˜ í”„ë¡œì„¸ì„œë¼ëŠ” ê¸°ëŠ¥ì„ ì´ìš©í•˜ì—¬ ì½”ë“œë¥¼ ìë™ìœ¼ë¡œ ìƒì„±í•´ì¤€ë‹¤. class íŒŒì¼ì„ ì—´ì–´ë³´ë©´ ì½”ë“œê°€ ì¶”ê°€ë˜ì–´ ìˆëŠ” ê²ƒì„ í™•ì¸ ê°€ëŠ¥í•˜ë‹¤.

### ì •ë¦¬

- ìƒì„±ìë¥¼ ë”± 1ê°œ ë‘ê³ , `@Autowired`ë¥¼ ìƒëµí•˜ëŠ” ë°©ë²•ì„ ì£¼ë¡œ ì‚¬ìš©í•œë‹¤.
- Lombok ë¼ì´ë¸ŒëŸ¬ë¦¬ì˜ `@RequiredArgsConstructor`ì™€ í•¨ê»˜ ì‚¬ìš©í•˜ë©´ ê¸°ëŠ¥ì€ ë‹¤ ì œê³µí•˜ë©´ì„œ, ì½”ë“œëŠ” ê¹”ë”í•˜ê²Œ ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤.

### IntelliJ ë¡¬ë³µ ì„¤ì •

1. Settings â†’ Plugins â†’ Lombok ì„¤ì¹˜
2. Settings â†’ Annotation Processors â†’ Enable annotation processing ì²´í¬

# ğŸ“„ Reference

- [[ì¸í”„ëŸ°] ìŠ¤í”„ë§ í•µì‹¬ ì›ë¦¬ - ê¸°ë³¸í¸ (ê¹€ì˜í•œ)](https://www.inflearn.com/course/%EC%8A%A4%ED%94%84%EB%A7%81-%ED%95%B5%EC%8B%AC-%EC%9B%90%EB%A6%AC-%EA%B8%B0%EB%B3%B8%ED%8E%B8/dashboard)