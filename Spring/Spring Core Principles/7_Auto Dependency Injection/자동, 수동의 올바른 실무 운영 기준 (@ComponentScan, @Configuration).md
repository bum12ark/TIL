### 편리한 자동 기능을 기본으로 사용하자

- 자동을 선호하는 추세
- 스프링은 @Controller, @Service, @Repository 처럼 계층에 맞추어 로직을 자동 스캔할 수 있도록 지원
- 스프링 부트는 컴포넌트 스캔을 기본으로 사용
- 자동 빈 등록을 사용해도 OCP, DIP를 지킬 수 있다.

### 수동 빈 등록을 사용하는 경우

애플리케이션은 크게 **업무 로직**과 **기술 지원 로직**으로 나뉘어 진다.

- **업무 로직 빈**: 웹을 지원하는 컨트롤러, 핵심 비즈니스 로직이 있는 서비스 등.. 비즈니스 요구사항을 개발할 때 추가되거나 변경된다.
- **기술 지원빈**: 기술적인 문제나 공통 관심사(AOP)를 처리할 때 주로 사용됨. 데이터 베이스 연결이나 공통 로그 처리 처럼 업무 로직을 지원하기 위한 **하부 기술이나 공통기술**
- 기술 지원 로직은 적용이 잘 되고 있는지 아닌지 조차 파악하기 어려운 경우가 많다. 그래서 이런 **기술 지원 로직들은 가급적 수동 빈 등록을 사용해서 명확하게 들어내는 것이 좋다.**

### 비즈니스 로직 중에서 다형성을 적극 활용할 때

- 조회한 빈이 모두 필요한 경우 (List, Map)에 자동으로 설정한다면 직접 해당 인터페이스를 구현한 클래스들을 다 찾아봐야하는 불편함이 생긴다.
- **수동 빈으로 등록하거나 자동으로 할 경우 특정 패키지에 같이 묶어**두는게 좋다
    
    ```java
    @Configuration
    public class DiscountPolicyConfig {
    
    		@Bean
    		public DiscountPolicy rateDiscountPolicy() {
    				return new RateDiscountPolicy();
    		}
    		@Bean
    		public DiscountPolicy fixDiscountPolicy() {
    				return new FixDiscountPolicy();
    		}
    }
    ```
    
- 이 설정 정보만 봐도 한눈에 빈의 이름은 물론이고, 어떤 빈들이 주입될지 파악할 수 있다. 그래도 빈 자동
등록을 사용하고 싶으면 파악하기 좋게 `DiscountPolicy` 의 구현 빈들만 따로 모아서 특정 패키지에
모아두자.

> 참고: **스프링과 스프링 부트가 자동으로 등록하는 수 많은 빈들은 예외**
스프링 자체를 잘 이해하고 스프링의 의도대로 잘 사용하는 것이 중요
> 

# 📄 Reference

- [[인프런] 스프링 핵심 원리 - 기본편 (김영한)](https://www.inflearn.com/course/%EC%8A%A4%ED%94%84%EB%A7%81-%ED%95%B5%EC%8B%AC-%EC%9B%90%EB%A6%AC-%EA%B8%B0%EB%B3%B8%ED%8E%B8/dashboard)